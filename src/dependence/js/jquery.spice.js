/**
 *
 * Spice
 *
 * 详细用法请参考：http://10.8.21.101
 * @ author Razy
 * @ version 3.0.0
 *
 */

!function(a){function b(b,c,d,e){var f=d.type;d.type=c,e?a.event.trigger(d,void 0,b):a.event.dispatch.call(b,d),d.type=f}function c(a,b){for(var c=D.length,d="function"==typeof a.constructor?f:e;c--;){var g=D[c];("constructor"===g?t.has(a,g):g in a&&a[g]!==d[g]&&!t.contains(b,g))&&b.push(g)}}var d=Array.prototype,e=Object.prototype,f=Function.prototype,g=(d.push,d.slice),h=e.toString,i=e.hasOwnProperty,j=Array.isArray,k=Object.keys,l=f.bind,m=Object.create,n=navigator,o=n.userAgent,p=".spice",q=!!o.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),r=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/,s=/^(1[3-9]{1}[0-9]{1})\d{8}$/,g=Array.prototype.slice,t=function(){return this instanceof arguments.callee?void 0:new t};t.prototype={namespace:p,hasTouch:q,nav:n,ua:o,trident:o.indexOf("Trident")>-1,presto:o.indexOf("Presto")>-1,webKit:o.indexOf("AppleWebKit")>-1,gecko:o.indexOf("Gecko")>-1&&-1==o.indexOf("KHTML"),mobile:!!o.match(/AppleWebKit.*Mobile.*/),ios:!!o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:o.indexOf('Android')>-1||o.indexOf('Adr')>-1,iPhone:o.indexOf("iPhone")>-1||o.indexOf("Mac")>-1,iPad:o.indexOf("iPad")>-1,webApp:-1==o.indexOf("Safari"),hasTouch:q,mouseenter:q?"touchend"+p+" touchcancel"+p:"mouseenter"+p,mouseleave:q?"touchend"+p+" touchcancel"+p:"mouseleave"+p,mousedown:q?"touchstart"+p:"mousedown"+p,mouseup:q?"touchend"+p+" touchcancel"+p:"mouseup"+p,mousemove:q?"touchmove"+p:"mousemove"+p,click:q?"touchend"+p+" touchcancel"+p:"click"+p,tap:"tap"+p};var t=a.spice=t();t.version="3.0.0",t.getMaxZIndex=function(){return Math.max.apply(null,a(document.body).children().map(function(){return a(this).css("zIndex")>>>0}).get())},t.getEvent=function(a){return t.hasTouch?a.originalEvent.changedTouches:a},t.getEventXY=function(a){var b=t.getEvent(a);return{x:b.clientX?b.clientX:b[0]?b[0].pageX:0,y:b.clientY?b.clientY:b[0]?b[0].pageY:0}},t.getStringLength=function(a){for(var b,c=0,d=0,e=a.length;e>d;d++)b=a.charCodeAt(d),c+=b>127?2:1;return c},t.subString=function(b,c,d){var e,f=0,g=0,h="",i=b.length,j=t.getStringLength(b);for(0>c&&(c=j+c),0>d||"number"!=a.type(d)?d=~~d+j:d+=c;i>f&&!(g>=c);f++){var e=b.charCodeAt(f);g+=e>127?2:1}for(;i>f;f++){var e=b.charCodeAt(f);if(g+=e>127?2:1,g>d)break;h+=b.charAt(f)}return h},t.getURLParameter=function(a,b){var c=(b||window).location.search,d=new RegExp("[&?]+"+a+"=([^&]*)"),e="";return d.test(c)&&(e=RegExp.$1),e},t.visualArea=function(b,c){if(!b||!t.isString(b)||0==a(b).length)return!1;var d={callBack:null,num:0};d=a.extend({},d,c),a(window).on("scroll.spice.visualArea",function(){var c=a(this);c.scrollTop()+c.height()>a(b).offset().top-d.num&&d.callBack&&a.isFunction(d.callBack)&&d.callBack(a(b))}).trigger("scroll.spice.visualArea")},t.getScrollbarWidth=function(){var a,b,c=document.createElement("p"),d={width:"100px",height:"100px",overflowY:"scroll"};for(a in d)c.style[a]=d[a];return document.body.appendChild(c),b=c.offsetWidth-c.clientWidth,c.style.display="none",b},t.getCookie=function(a){var b=document.cookie,c=new RegExp(a+"=([^;]*)"),d="";return c.test(b)&&(d=RegExp.$1),d},t.getDates=function(a){var b=(a.length,{}),c=86400,d=0,e=a.match(/\d+\w/g);if(null==e)return!1;for(var f=0,g=e.length;g>f;f++)new RegExp("^(\\d+)([a-z]+)$","i").test(e[f]),b[RegExp.$2]=RegExp.$1;return b.s&&(d=+b.s),b.m&&(d+=60*+b.m),b.h&&(d+=60*+b.h*60),b.D&&(d+=+b.D*c),b.W&&(d+=+b.W*c*7),b.M&&(d+=+b.M*c*30),b.Y&&(d+=+b.Y*c*365),1e3*d},t.setCookie=function(a,b){var c=[];if("string"==typeof b)c=b;else if("object"==typeof b.values){for(var d in b.values)c.push(d+"="+b.values[d]+"&");c=c.join("").slice(0,-1)}else c=b.values;var e=a+"="+c;b.expires&&(e+=";expires="+new Date((new Date).getTime()+t.getDates(b.expires)).toGMTString()),b.path&&(e+=";path="+b.path),b.domain&&(e+=";domain="+b.domain),b.secure===!0&&(e+=";secure"),document.cookie=e},t.delCookie=function(a){var b=document.cookie,c=new RegExp(a+"=[^;]?");c.test(b)&&(document.cookie=a+"=;expires="+new Date(-1).toGMTString())},t.getTimeUrl=function(a){var b=(new Date).getTime();return a.indexOf("spiceflag=")>=0?a=a.replace(/spiceflag=\d{13}/,"spiceflag="+b.toString()):(a+=/\?/.test(a)?"&":"?",a+"spiceflag="+b.toString())},t._ajaxSetValue=function(b,c,d){if(null!==d){var e=b[c];a.spice.isString(e)?b[c]=[e,d]:a.isArray(e)?b[c].push(d):b[c]=d}},t._ajaxFieldValue=function(b){var c=null,d=(b.type||"").toLowerCase();return b.name&&d&&!b.disabled&&("radio"===d||"checkbox"===d?b.checked&&(c=b.value):b.multiple?(c=[],a("option",b).each(function(){this.selected&&c.push(this.value)})):c=b.value),c},t._ajaxFormToObj=function(b){if(!b)return{};b=a.spice.isString(b)?a("#"+b).get(0):b;var c={},d="file|submit|image|reset|button|";return a.each(b.elements,function(a,b){var e=b.name,f=(b.type||"").toLowerCase();e&&f&&-1===d.indexOf(f)&&!b.disabled&&t._ajaxSetValue(c,e,t._ajaxFieldValue(b))}),c},t._ajaxOptions=function(b,c,d){var e={};return b=t.getTimeUrl(b),1===arguments.length?e=b:(e=d||{},e.url=b,c&&(a.spice.isString(c)?a.extend(e,{data:t._ajaxFormToObj(c)}):a.extend(e,{data:c}))),e},t.asyncXhr=function(b,c,d){a.ajax(t._ajaxOptions(b,c,d))},t.asyncXhrGet=function(b,c,d){var e=t._ajaxOptions(b,c,d);e.type="GET",a.ajax(e)},t.asyncXhrPost=function(b,c,d){var e=t._ajaxOptions(b,c,d);e.type="POST",a.ajax(e)},t.syncXhr=function(b,c,d){var e,f=t._ajaxOptions(b,c,d);return a.extend(f,{async:!1,success:function(a){e=a},error:function(a,b,c){e={};var d={};d.message="Error occurs when fetching data from url:"+this.url,d.cause=b?b:c,e.exception=d}}),a.ajax(f),e},t.syncXhrGet=function(b,c,d){return 1===arguments.length?b.type="GET":d=a.extend({},d,{type:"GET"}),t.syncXhr(b,c,d)},t.syncXhrPost=function(b,c,d){return 1===arguments.length?b.type="POST":d=a.extend({},d,{type:"POST"}),t.syncXhr(b,c,d)},t.dialog=function(b){if(!(this instanceof arguments.callee))return new t.dialog(b);{var c=this;c.opt=a.extend({},c.defaultOptions,b)}c.init()},t.dialog.prototype={getTemplate:function(){var a=this,b=a.opt.button,c=a.opt.type,d=a.opt.title,e=a.opt.content,f='<div class="dialog">\r\n                                <div class="dialog-container font-text-center">'+(d?"<h4>"+d+"</h4>":"")+(e?"<p>"+e+"</p>":"")+'<div class="dialog-btn-wrap">\r\n                                        <a class="btn btn-success">'+(b[0]||"确认")+"</a>"+("confirm"==c?'<a class="btn btn-cancel">'+(b[1]||"取消")+"</a>":"")+'</div>\r\n                                </div>\r\n                                <i class="icon icon-close dialog-close">&times;</i>\r\n                            </div>';return f},defaultOptions:{template:"",type:"info",dialogClass:"spice-dialog",fixed:!1,title:"",content:"",button:["确认","取消"],btnSuccessClass:".btn-success",btnCancelClass:".btn-cancel",btnCloseClass:".dialog-close"},_trigger:function(a,b){this.elem.triggerHandler(a,b)},init:function(b){var c=this,d=c.opt=a.extend({},c.opt,b);return c.destroy(),c.elem=c.createElem(d.template),a.each(["submit","cancel","initEvent"],function(b,e){a.isFunction(d[e])&&c.elem.on(e,d[e])}),c._trigger("initEvent",[a(c.elem)]),c.btnSuccess=a(d.btnSuccessClass||".btn-success",c.elem),c.btnCancel=a(d.btnCancelClass||".btn-cancel",c.elem),c.btnClose=a(d.btnCloseClass||".dialog-close",c.elem),c.elemMask=t.mask(),c.activate(),c},activate:function(){var b=this;b.btnSuccess.on("tap",function(){return a.isFunction(b.opt.submit)?void b._trigger("submit"):(b.hide(),!1)}),b.btnCancel.on("tap",function(){b._trigger("cancel")}),b.btnClose.add(b.elemMask.elem).on("tap",function(){b.hide()})},refreshPosition:function(b){var b=b||this.elem,c=b.css("zIndex"),d=b.css("display"),e=b.css("opacity");b.removeAttr("style");var f=b.outerWidth(!0),g=b.outerHeight(!0),h={marginTop:-g/2,marginLeft:-f/2,left:"50%",top:"50%",position:"fixed",zIndex:c,display:d,opacity:e};if(!this.opt.fixed){var i=a(window).scrollTop(),j=a(window).height();h.position="absolute",h.marginTop="",h.top=i+(j-g)/2}g>a(window).height()&&(h.marginTop=0,h.top=this.opt.fixed?10:i+10),b.css(h)},createElem:function(b){var c=this,d=c.opt,e=a(b||c.getTemplate()).addClass(d.dialogClass).hide().appendTo("body");return c.refreshPosition(e),e.css("zIndex",t.getMaxZIndex()+2),e},refreshZIndex:function(){return this.elem.css("zIndex",t.getMaxZIndex()+1),this},show:function(a){return this.refreshPosition(this.elem),this.elem.fadeTo(500,1,a),this.elemMask.show(),this.elem.css("zIndex",t.getMaxZIndex()+2),this},hide:function(a){return this.elem.fadeOut(500,a),this.elemMask.hide(),this},destroy:function(){return this.elem&&this.elem.remove(),this.elemMask&&this.elemMask.remove(),this}},t.mask=function(b){if(!(this instanceof arguments.callee))return new t.mask(b);var c=this;c.opt=a.extend({},c.defaultOptions,b),c.elem=c.createElem()},t.mask.prototype={defaultOptions:{style:{position:"fixed",width:"100%",height:"100%",top:0,left:0,display:"none",backgroundColor:"#000000",zIndex:100,opacity:0}},createElem:function(){return a("<div>",{"class":"spice-black-opacity"}).css(this.opt.style).css("zIndex",t.getMaxZIndex()+2).appendTo("body")},show:function(a){return this.elem.fadeTo(500,.5,a),this},hide:function(a){return this.elem.fadeOut(500,a),this},setZIndex:function(a){return this.elem.css("zIndex",a),this},refreshZIndex:function(){return this.elem.css("zIndex",t.getMaxZIndex()-1),this},remove:function(){return this.elem.remove(),this}},t.tips=function(b){function c(a,b){var c='<div class="dialog">\r\n                            <div class="dialog-container font-text-center">'+(a?"<h4>"+a+"</h4>":"")+(b?"<p>"+b+"</p>":"")+'</div>\r\n                            <a class="icon icon-close dialog-close">&times;</a>\r\n                        </div>';return c}var d=a.extend({},{dialogClass:"dialog-tips",title:"",content:"",time:1500,template:""},b),e=t.dialog({dialogClass:d.dialogClass,fixed:!0,template:d.template||c(d.title,d.content)});e.show(function(){setTimeout(function(){e.hide(function(){e.destroy()})},d.time)})},t.checkEmail=function(a,b){try{return(b||r).test(a)}catch(c){return!1}},t.checkMobile=function(a,b){try{return(b||s).test(a)}catch(c){return!1}},a.each("tap".split(" "),function(b,c){a.fn[c]=function(a){return a?this.on(c,a):this.trigger(c)},a.attrFn&&(a.attrFn[c]=!0)}),a.event.special.tap={setup:function(){function c(){return{sx:0,sy:0,ex:0,ey:0}}var d=c(),e=a(this);a.spice.hasTouch&&!a.spice.android?e.on(a.spice.mousedown,function(b){var c=a.spice.getEventXY(b);d.sx=c.x,d.sy=c.y}).on(a.spice.click,function(f){var g=a.spice.getEventXY(f);d.ex=g.x,d.ey=g.y,d.sx==d.ex&&d.sy==d.ey&&(b(e[0],"tap",f),d=c())}):e.on("click",function(a){b(e[0],"tap",a)})},teardown:function(){a(this).off("click").off(a.spice.mousedown)}};var u=function(){},v=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},w=function(a,b,c){return null==a?t.identity:t.isFunction(a)?v(a,b,c):t.isObject(a)?t.matches(a):t.property(a)};t.iteratee=function(a,b){return w(a,b,1/0)};var x=function(a){return function(b){var c=arguments.length;if(2>c||null==b)return b;for(var d=0;c>d;d++)for(var e=arguments[d],f=a(e),g=f.length,h=0;g>h;h++){var i=f[h];b[i]=e[i]}return b}},y=function(a){if(!t.isObject(a))return{};if(m)return m(a);u.prototype=a;var b=new u;return u.prototype=null,b};t.each=t.forEach=function(a,b,c){if(null==a)return a;b=v(b,c);var d,e=a.length;if(e===+e)for(d=0;e>d;d++)b(a[d],d,a);else{var f=t.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},t.map=t.collect=function(a,b,c){if(null==a)return[];b=w(b,c);for(var d,e=a.length!==+a.length&&t.keys(a),f=(e||a).length,g=Array(f),h=0;f>h;h++)d=e?e[h]:h,g[h]=b(a[d],d,a);return g},t.reduce=t.foldl=t.inject=function(a,b,c,d){null==a&&(a=[]),b=v(b,d,4);var e,f=a.length!==+a.length&&t.keys(a),g=(f||a).length,h=0;for(arguments.length<3&&(c=a[f?f[h++]:h++]);g>h;h++)e=f?f[h]:h,c=b(c,a[e],e,a);return c},t.reduceRight=t.foldr=function(a,b,c,d){null==a&&(a=[]),b=v(b,d,4);var e,f=a.length!==+a.length&&t.keys(a),g=(f||a).length;for(arguments.length<3&&(c=a[f?f[--g]:--g]);g-->0;)e=f?f[g]:g,c=b(c,a[e],e,a);return c},t.transform=function(a,b,c,d){if(null==c)if(t.isArray(a))c=[];else if(t.isObject(a)){var e=a.constructor;c=y("function"==typeof e&&e.prototype)}else c={};if(null==a)return c;b=v(b,d,4);var f,g,h=a.length!==+a.length&&t.keys(a),i=(h||a).length;for(f=0;i>f&&(g=h?h[f]:f,b(c,a[g],g,a)!==!1);f++);return c},t.find=t.detect=function(a,b,c){var d;return d=a.length===+a.length?t.findIndex(a,b,c):t.findKey(a,b,c),void 0!==d&&-1!==d?a[d]:void 0},t.filter=t.select=function(a,b,c){var d=[];return null==a?d:(b=w(b,c),t.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d)},t.reject=function(a,b,c){return t.filter(a,t.negate(w(b)),c)},t.every=t.all=function(a,b,c){if(null==a)return!0;b=w(b,c);var d,e,f=a.length!==+a.length&&t.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,!b(a[e],e,a))return!1;return!0},t.some=t.any=function(a,b,c){if(null==a)return!1;b=w(b,c);var d,e,f=a.length!==+a.length&&t.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,b(a[e],e,a))return!0;return!1},t.contains=t.includes=t.include=function(a,b,c){return null==a?!1:(a.length!==+a.length&&(a=t.values(a)),t.indexOf(a,b,"number"==typeof c&&c)>=0)},t.invoke=function(a,b){var c=g.call(arguments,2),d=t.isFunction(b);return t.map(a,function(a){return(d?b:a[b]).apply(a,c)})},t.pluck=function(a,b){return t.map(a,t.property(b))},t.where=function(a,b){return t.filter(a,t.matches(b))},t.findWhere=function(a,b){return t.find(a,t.matches(b))},t.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=a.length===+a.length?a:t.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=w(b,c),t.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},t.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=a.length===+a.length?a:t.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=w(b,c),t.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},t.shuffle=function(a){for(var b,c=a&&a.length===+a.length?a:t.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=t.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},t.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=t.values(a)),a[t.random(a.length-1)]):t.shuffle(a).slice(0,Math.max(0,b))},t.sortBy=function(a,b,c){return b=w(b,c),t.pluck(t.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){return t.comparator(a.criteria,b.criteria)||a.index-b.index}),"value")};var z=function(a){return function(b,c,d){var e={};return c=w(c,d),t.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};t.groupBy=z(function(a,b,c){t.has(a,c)?a[c].push(b):a[c]=[b]}),t.indexBy=z(function(a,b,c){a[c]=b}),t.countBy=z(function(a,b,c){t.has(a,c)?a[c]++:a[c]=1}),t.toArray=function(a){return a?t.isArray(a)?g.call(a):a.length===+a.length?t.map(a,t.identity):t.values(a):[]},t.size=function(a){return null==a?0:a.length===+a.length?a.length:t.keys(a).length},t.partition=function(a,b,c){b=w(b,c);var d=[],e=[];return t.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},t.first=t.head=t.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:t.initial(a,a.length-b)},t.initial=function(a,b,c){return g.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},t.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:t.rest(a,Math.max(0,a.length-b))},t.rest=t.tail=t.drop=function(a,b,c){return g.call(a,null==b||c?1:b)},t.compact=function(b){return a.grep(b,function(b){return a.isPlainObject(b)&&a.isEmptyObject(b)?!1:a.isArray(b)&&0==b.length?!1:b})};var A=function(a,b,c,d){for(var e,f=[],g=0,h=d||0,i=a&&a.length;i>h;h++)if(e=a[h],e&&e.length>=0&&(t.isArray(e)||t.isArguments(e))){b||(e=A(e,b,c));var j=0,k=e.length;for(f.length+=k;k>j;)f[g++]=e[j++]}else c||(f[g++]=e);return f};t.flatten=function(a,b){return A(a,b,!1)},t.without=function(a){return t.difference(a,g.call(arguments,1))},t.uniq=t.unique=function(a,b,c,d){if(null==a)return[];t.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=w(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?t.contains(f,j)||(f.push(j),e.push(i)):t.contains(e,i)||e.push(i)}return e},t.union=function(){return t.uniq(A(arguments,!0,!0))},t.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!t.contains(b,f)){for(var g=1;c>g&&t.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},t.difference=function(a){var b=A(arguments,!0,!0,1);return t.filter(a,function(a){return!t.contains(b,a)})},t.zip=function(a){if(null==a)return[];for(var b=t.max(arguments,"length").length,c=Array(b);b-->0;)c[b]=t.pluck(arguments,b);return c},t.unzip=function(a){return t.zip.apply(null,a)},t.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},t.indexOf=function(a,b,c){var d=0,e=a&&a.length;if("number"==typeof c)d=0>c?Math.max(0,e+c):c;else if(c&&e)return d=t.sortedIndex(a,b),a[d]===b?d:-1;for(;e>d;d++)if(a[d]===b)return d;return-1},t.lastIndexOf=function(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1},t.findIndex=function(a,b,c){b=w(b,c);for(var d=null!=a?a.length:0,e=0;d>e;e++)if(b(a[e],e,a))return e;return-1},t.sortedIndex=function(a,b,c,d){c=w(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=Math.floor((f+g)/2);t.comparator(c(a[h]),e)<0?f=h+1:g=h}return f},t.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var B=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=y(a.prototype),g=a.apply(f,e);return t.isObject(g)?g:f};t.bind=function(a,b){if(l&&a.bind===l)return l.apply(a,g.call(arguments,1));if(!t.isFunction(a))throw new TypeError("Bind must be called on a function");var c=g.call(arguments,2);return function d(){return B(a,d,b,this,c.concat(g.call(arguments)))}},t.partial=function(a){var b=g.call(arguments,1);return function c(){for(var d=0,e=b.slice(),f=0,g=e.length;g>f;f++)e[f]===t&&(e[f]=arguments[d++]);for(;d<arguments.length;)e.push(arguments[d++]);return B(a,c,this,this,e)}},t.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=t.bind(a[c],a);return a},t.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return t.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},t.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},t.defer=t.partial(t.delay,t,1),t.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:t.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=t.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},t.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=t.now()-g;b>j&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=t.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},t.wrap=function(a,b){return t.partial(b,a)},t.negate=function(a){return function(){return!a.apply(this,arguments)}},t.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},t.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},t.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},t.once=t.partial(t.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),D=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];t.keys=function(a){if(!t.isObject(a))return[];if(k)return k(a);var b=[];for(var d in a)t.has(a,d)&&b.push(d);return C&&c(a,b),b},t.keysIn=function(a){if(!t.isObject(a))return[];var b=[];for(var d in a)b.push(d);return C&&c(a,b),b},t.values=function(a){for(var b=t.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},t.pairs=function(a){for(var b=t.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},t.invert=function(a){for(var b={},c=t.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},t.functions=t.methods=function(a){var b=[];for(var c in a)t.isFunction(a[c])&&b.push(c);return b.sort()},t.extend=x(t.keysIn),t.assign=x(t.keys),t.findKey=function(a,b,c){b=w(b,c);for(var d,e=t.keys(a),f=0,g=e.length;g>f;f++)if(d=e[f],b(a[d],d,a))return d},t.pick=function(a,b,c){var d,e={};if(null==a)return e;if(t.isFunction(b)){b=v(b,c);for(d in a){var f=a[d];b(f,d,a)&&(e[d]=f)}}else{var g=A(arguments,!1,!1,1);a=new Object(a);for(var h=0,i=g.length;i>h;h++)d=g[h],d in a&&(e[d]=a[d])}return e},t.omit=function(a,b,c){if(t.isFunction(b))b=t.negate(b);else{var d=t.map(A(arguments,!1,!1,1),String);b=function(a,b){return!t.contains(d,b)}}return t.pick(a,b,c)},t.defaults=function(a){if(!t.isObject(a))return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a},t.create=function(a,b){var c=y(a);return b&&t.assign(c,b),c},t.clone=function(a){return t.isObject(a)?t.isArray(a)?a.slice():t.extend({},a):a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;var e=h.call(a);if(e!==h.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,i=b.constructor;if(g!==i&&!(t.isFunction(g)&&g instanceof g&&t.isFunction(i)&&i instanceof i)&&"constructor"in a&&"constructor"in b)return!1}for(var j=c.length;j--;)if(c[j]===a)return d[j]===b;if(c.push(a),d.push(b),f){if(j=a.length,j!==b.length)return!1;for(;j--;)if(!E(a[j],b[j],c,d))return!1}else{var k,l=t.keys(a);if(j=l.length,t.keys(b).length!==j)return!1;for(;j--;)if(k=l[j],!t.has(b,k)||!E(a[k],b[k],c,d))return!1}return c.pop(),d.pop(),!0};t.isEqual=function(a,b){return E(a,b,[],[])},t.isEmpty=function(a){if(null==a)return!0;if(t.isArray(a)||t.isString(a)||t.isArguments(a))return 0===a.length;for(var b in a)if(t.has(a,b))return!1;return!0},t.isElement=function(a){return!(!a||1!==a.nodeType)},t.isArray=j||function(a){return"[object Array]"===h.call(a)},t.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},t.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){t["is"+a]=function(b){return h.call(b)==="[object "+a+"]"}}),t.isArguments(arguments)||(t.isArguments=function(a){return t.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(t.isFunction=function(a){return"function"==typeof a||!1}),t.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},t.isNaN=function(a){return t.isNumber(a)&&a!==+a},t.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===h.call(a)},t.isNull=function(a){return null===a},t.isUndefined=function(a){return void 0===a},t.has=function(a,b){return null!=a&&i.call(a,b)},t.identity=function(a){return a},t.constant=function(a){return function(){return a}},t.noop=function(){},t.property=function(a){return function(b){return null==b?void 0:b[a]}},t.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},t.matches=function(a){var b=t.pairs(a),c=b.length;return function(a){if(null==a)return!c;a=new Object(a);for(var d=0;c>d;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}},t.comparator=function(a,b){if(a===b)return 0;var c=a>=a,d=b>=b;if(c||d){if(c&&!d)return-1;if(d&&!c)return 1}return a>b?1:b>a?-1:0},t.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},t.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},G=t.invert(F),H=function(a){var b=function(b){return a[b]},c="(?:"+t.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};t.escape=H(F),t.unescape=H(G),t.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),t.isFunction(d)?d.call(a):d};var I=0;t.uniqueId=function(a){var b=++I+"";return a?a+b:b},t.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,M=function(a){return"\\"+K[a]};t.template=function(a,b,c){!b&&c&&(b=c),b=t.defaults({},b,t.templateSettings);var d=RegExp([(b.escape||J).source,(b.interpolate||J).source,(b.evaluate||J).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(L,M),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':spice.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","spice",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,t)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},t.chain=function(a){var b=t(a);return b._chain=!0,b}}(jQuery),function(){for(var a,b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],c=b.length,d=window.console=window.console||{};c--;)a=b[c],d[a]||(d[a]=$.noop)}();
